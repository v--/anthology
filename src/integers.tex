\subsection{Integers}\label{subsec:integers}

\begin{definition}\label{def:integers}
  The set \( \Z \) of \Def{integers} is defined as the Grothendieck completion\Tinyref{thm:monoid_completion_to_abelian_group} of the commutative monoid \( (\BB{N}, +) \).

  Let \( \oplus \), \( \odot \) and \( \leq_N \) be the operations in \( \BB{N} \)\Tinyref{def:natural_number_operations}. Since either \( x \in \Z \) or \( -x \in \Z \) is isomorphic to a natural number, we extend the operations to \( \Z \) as follows:
  \begin{itemize}
    \item addition is defined in the completion.
    \item multiplication is defined as follows:
    \begin{equation*}
      x \cdot y \coloneqq \begin{cases}
        x \odot y, & x \geq 0 \iff y \geq 0 \\
        (-x) \odot y, & x < 0 \text{ and } y \geq 0 \\
        x \odot (-y), & x \geq 0 \text{ and } y < 0
      \end{cases}
    \end{equation*}

    \item the order is inherited
    \item the additional absolute value\Tinyref{def:absolute_value} operation is defined as
    \begin{equation*}
      \Abs{x} \coloneqq \begin{cases}
        x, &x \geq 0, \\
        -x, &x < 0.
      \end{cases}
    \end{equation*}
  \end{itemize}
\end{definition}
\begin{proof}
  The proof that multiplication and absolute values are well defined can be done similarly to the proof of \cref{thm:monoid_completion_to_abelian_group}.

  Integer multiplication obviously generalizes natural number multiplication.
\end{proof}

\begin{proposition}\label{thm:integers_are_euclidean_domain}
  The domain\Tinyref{def:semiring/integral_domain} of integers \( \Z \) is Euclidean\Tinyref{def:semiring/euclidean_domain} with \( \delta(n) \coloneqq \Abs{n} \). Furthermore, the remainder and quotient are unique.
\end{proposition}
\begin{proof}
  Let \( a, b \in \Z \) and \( b \neq 0 \). Suppose that \( b > 0 \). Define
  \begin{align*}
    q &\coloneqq \max \{ q \in \Z \colon bq \leq \Abs{a} \} \\
    r &\coloneqq a - bq.
  \end{align*}

  It remains to show that either \( r = 0 \) or \( \delta(r) < \delta(b) \).

  Note that \( r = 0 \) if and only if \( b \) is a divisor\Tinyref{def:commutative_ring_division} of \( a \).

  Suppose that \( b \) is not a divisor of \( a \). Note that \( g \geq 0 \) and \( r > 0 \). If \( r \geq b \), this would imply\LEM \( r - b \geq 0 \) and
  \begin{equation*}
    a = bq + r = b(q + 1) + (r - b) \geq b(q + 1),
  \end{equation*}
  which would contradict the maximality of \( q \). Thus \( r < b \).

  It remains to show uniqueness. Suppose that \( a = bq + r = bq' + r' \). Then
  \begin{equation*}
    0 = b(q - q') + (r - r').
  \end{equation*}

  Thus \( b \mid r - r' \). But \( -b < r - r' < b \), which implies that \( r = r' \). Thus also implies that \( q = q' \) since \( b \neq 0 \).

  Now suppose that \( b < 0 \). Define
  \begin{align*}
    q &\coloneqq \min \{ q \in \Z \colon -\Abs{a} \leq bq \} \\
    r &\coloneqq a - bq.
  \end{align*}

  Suppose that \( b \) is not a divisor of \( a \). Note that \( q \geq 0 \) and \( r < 0 \). If \( r \leq b \), this would imply\LEM \( r - b \leq 0 \) and
  \begin{equation*}
    a = bq + r = b(q + 1) + (r - b) \leq b(q + 1),
  \end{equation*}
  which would contradict the minimality of \( q \). Thus \( r > b \) and, since both \( b \) and \( r \) are negative, \( \Abs{r} < \Abs{b} \).

  To see uniqueness, suppose that \( a = bq + r = bq' + r' \). Thus \( b \mid r - r' \). But \( -\Abs{b} = b < r - r' < -b = \Abs{b} \), which implies that \( r = r' \) and \( q = q' \).

  In both cases, we obtained unique integers \( q \) and \( r \) such that \( a = bq + r \) with \( \Abs{r} < \Abs{b} \).
\end{proof}

\begin{remark}\label{remark:units_in_rings_etymology}
  An integer \( a \) is divisible by \( b \neq 0 \) if there exists a number \( q \) such that
  \begin{equation*}
    a = qb.
  \end{equation*}

  Obviously \( q = (-q)(-1) \) so the following also holds:
  \begin{equation*}
    a = [(-q)(-1)]b = (-q)(-b),
  \end{equation*}
  hence \( a \) is also divisible by \( -b \).

  For any nonzero number \( b = 1 \cdot b \) that divides \( a \), the number \( -b = (-1) \cdot b \) also divides \( a \). Both \( 1 \) and \( -1 \) have unit norm (that is, \( \Abs{1} = \Abs{-1} = 1 \)) so it is reasonable to call them \enquote{units}. They are the only integers \( e \) with the property that if \( b | a \), then \( eb | a \). This is probably the reason why invertible elements in arbitrary rings are named \enquote{units}.

  Consider fields, in which all nonzero elements are units. It makes no sense to speak of divisibility whatsoever because any real number \( a \) is divisible by any nonzero real number \( b \). Putting \( q \coloneqq \frac a b \) satisfies the divisibility condition. Now if \( e \) is any unit in \( \R \), we have
  \begin{equation*}
    a = qb = q(e^{-1} e) b = (qe^{-1}) (eb),
  \end{equation*}
  hence \( eb \) also divides \( a \).
\end{remark}

\begin{definition}\label{def:double_index_maps}
  Let \( n, m \in \BB{N} \). We want to map single indices to double indices and vice versa. Define the mutually inverse operations
  \begin{align*}
    &\sharp_{n,m}: \{ 1, 2, \ldots, nm \} \to \{ 1, 2, \ldots, n \} \times \{ 1, 2, \ldots, n \} \\
    &\sharp_{n,m}(k) \coloneqq (\lfloor k / m \rfloor + 1, k \Mod m + 1)
    &\\
    &\\
    &\flat_{n,m}: \{ 1, 2, \ldots, n \} \times \{ 1, 2, \ldots, n \} \to \{ 1, 2, \ldots, nm \} \\
    &\flat_{n,m}(i, j) \coloneqq (i - 1) \cdot m + (j - 1).
  \end{align*}

  For \( p \)-arity indices, inductively define
  \begin{equation*}
    \sharp_{n_1, n_2, \ldots, n_p}(k) \coloneqq (\sharp_{n_1, n_2, \ldots, n_{p-1}}(a - 1), b),
  \end{equation*}
  where
  \begin{equation*}
    (a, b) = \sharp_{(n_1 n_2 \cdots n_{p-1}), n_p}.
  \end{equation*}
  and
  \begin{equation*}
    \flat_{n_1, n_2, \ldots, n_p}(i_1, \ldots, i_p) \coloneqq \flat_{n_1, n_2, \ldots, n_{p-2}, (n_{p-1} n_p)}(i_1, \ldots, i_{p-2}, \flat_{(n_{p-1} n_p), n_p}(i_{p-1}, i_p) + 1).
  \end{equation*}
\end{definition}
\begin{proof}
  \begin{align*}
    \sharp(\flat(i, j))
    &=
    \sharp((i - 1) \cdot m + (j - 1))
    = \\ &=
    \Big( \lfloor ((i - 1) \cdot m + (j - 1)) / m \rfloor + 1, ((i - 1) \cdot m + (j - 1)) \Mod m + 1\Big)
    = \\ &=
    \Big( i - 1 + \lfloor (j - 1) / m \rfloor + 1, (j - 1) \Mod m + 1 \Big)
    =
    (i, j).
  \end{align*}

  Thus \( \flat \) is left invertible and injective. It is also right invertible since
  \begin{align*}
    \flat(\sharp(k))
    &=
    \flat\left( \Big( \lfloor k / m \rfloor + 1, k \Mod m + 1 \Big) \right)
    = \\ &=
    (\lfloor k / m \rfloor) \cdot m + (k \Mod m)
    = \\ &=
    [k - (k \Mod m)] + (k \Mod m)
    =
    k.
  \end{align*}

  Hence \( \flat \) is bijective and \( \sharp \) is its inverse.
\end{proof}

\begin{lemma}[Euclid's lemma]\label{thm:euclids_lemma}
  An integer\Tinyref{def:integers} is prime\Tinyref{def:prime_ring_ideal} if and only if it is irreducible.
\end{lemma}
\begin{proof}
  Follows from \cref{thm:pid_prime_iff_irreducible}.
\end{proof}

\begin{definition}\label{def:prime_number}
  Despite negative integers being prime elements\Tinyref{thm:euclids_lemma} of the ring \( \Z \), we only call positive prime integers \Def{prime numbers}. That is, a positive integer is prime if it has no divisors except \( 1 \) and itself.

  Non-prime integers are called \Def{composite numbers}.

  Two integers \( n, m \) are called \Def{coprime} (see \cref{def:coprime_ring_ideal}) if \( \gcd(n, m) = 1 \).
\end{definition}

\begin{proposition}[Fermat's little theorem]\label{thm:fermats_little_theorem}
  If \( p \) is a prime number\Tinyref{def:prime_number}, for any integer \( x \) we have
  \begin{equation*}
    p \mid (x^p - x).
  \end{equation*}
\end{proposition}
