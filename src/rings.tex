\section{Ring theory}\label{sec:ring_theory}
\subsection{Rings}\label{subsec:rings}

\begin{definition}\label{def:semiring}
  A \Def{semiring} \( (R, +, \cdot) \) is an associative algebraic structure\Tinyref{def:algebraic_theory} with two binary operations:
  \begin{description}
    \item[addition] \( + \) is associative\Tinyref{def:algebraic_theory/associativity}, unital\Tinyref{def:algebraic_theory/identity} and commutative\Tinyref{def:algebraic_theory/commutativity}, i.e. \( (R, +) \) is a commutative monoid\Tinyref{def:magma/monoid}. The additive identity is usually denoted by \( 0 \).

    \item[multiplication] \( \cdot \) (usually written using juxtaposition) is associative\Tinyref{def:algebraic_theory/associativity}, i.e. \( (R, \cdot) \) a semigroup\Tinyref{def:magma/semigroup}.
  \end{description}

  We require that \( \cdot \) distributes\Tinyref{def:algebraic_theory/distributivity} over \( + \).

  The \Def{trivial semiring} consists only of the additive identity \( \{ 0 \} \).

  We say that \( x \) is \Def{nilpotent} if \( x^n = 0 \) for some nonnegative integer \( n \).

  The following are special kinds of semirings:
  \begin{defenum}
    \DItem{def:semiring/dioid} \Def{Dioids} are unital semirings, that is, both \( (R, +) \) and \( (R, \cdot) \) are monoids. The term \enquote{semiring} is sometimes reserved for dioids while \enquote{hemiring} is used for what we call semirings.

    \DItem{def:semiring/ring} \Def{Rings} are semirings with invertible addition, i.e. \( (R, +) \) forms an abelian group\Tinyref{def:magma/abelian_group}. The category of rings is denoted by \( \Cat{Ring} \).

    \DItem{def:semiring/unital_ring} \Def{Unital rings} are rings\Tinyref{def:semiring/ring} in which multiplication is unital, i.e. \( R, \cdot \) is a monoid\Tinyref{def:magma/monoid} with identity \( 1 \). Some authors define all rings to be unital. Invertible elements\Tinyref{def:algebraic_theory/invertibile_element} under multiplication are called \Def{units} (see \cref{remark:units_in_rings_etymology}) and the operation itself is called \Def{division}.

    We may additionally require that the ring is nontrivial so that \( 0 \neq 1 \) (see \cref{thm:semiring_properties/identities_are_equal_iff_trivial_ring}).

    \DItem{def:semiring/commutative_ring} \Def{Commutative rings} are rings\Tinyref{def:semiring/ring} in which multiplication is commutative\Tinyref{def:algebraic_theory/commutativity}, i.e. \( R, \cdot \) is a commutative semigroup.

    \DItem{def:semiring/commutative_unital_ring} \Def{Commutative unital rings} are (obviously) both commutative and unital and as usually assumed to be nontrivial. Despite being ubiquitous, they do not have an established one-word name.

    \DItem{def:semiring/integral_domain} \Def{Integral domains} are nontrivial commutative unital rings\Tinyref{def:semiring/commutative_unital_ring} with no zero divisors\Tinyref{def:commutative_ring_division}.

    \Cref{thm:semiring_properties/cancellable_iff_not_zero_divisor} shows that a commutative unital ring \( R \) is an integral domain if and only if its multiplication is cancellable.

    \DItem{def:semiring/unique_factorization_domain} \Def{Unique factorization domains} are integral domains in which every element has unique factorization\Tinyref{def:factorization_in_ring} exists.

    \DItem{def:semiring/principal_ideal_domain} \Def{Principal ideal domains} are integral domains\Tinyref{def:semiring/integral_domain} in which every ideal\Tinyref{def:semiring_ideal} is principal\Tinyref{def:principal_ideal}.

    By \cref{thm:pid_is_ufd}, every principal ideal domain is a unique factorization domain.

    \DItem{def:semiring/euclidean_domain} \Def{Euclidean domains} are integral domains\Tinyref{def:semiring/integral_domain} which allow division with remainders (see \cref{def:euclidean_domain}).

    By \cref{thm:euclidean_domain_is_pid}, every Euclidean domain is a principal ideal domain.

    \DItem{def:semiring/division_ring} \Def{Division rings} are unital rings\Tinyref{def:semiring/unital_ring} in which all nonzero elements are units, i.e. \( (F \setminus \{ 0 \}, \cdot) \) is a group\Tinyref{def:magma/group}.

    In order to fit multiplicative invertibility as an axiom for \cref{def:algebraic_theory}, we can use the following formula:
    \begin{equation*}
      \forall \xi ((\xi \doteq 0) \lor \exists \eta (\xi \cdot \eta \doteq 1))
    \end{equation*}
    or add an additional operation \( (\cdot)^{-1} \) that inverts all nonzero elements and fixes zero, that is,
    \begin{equation*}
      \forall \xi (\xi \cdot \xi^{-1} \doteq 1),
    \end{equation*}
    where we define \( 0^{-1} = 0 \). This is only a formalism since \( 0 \) is not actually \enquote{invertible}, but it is required if we wish to avoid existential quantifiers.

    \DItem{def:semiring/field} \Def{Fields} are commutative\Tinyref{def:algebraic_theory/commutativity} division rings\Tinyref{def:semiring/division_ring}, i.e. \( (F \setminus \{ 0 \}, \cdot) \) is an abelian group\Tinyref{def:magma/abelian_group}. The category of fields is denoted by \( \Cat{Field} \).
  \end{defenum}
\end{definition}

\begin{example}\label{ex:semirings}
  We give examples and counterexamples of semirings. Note that the order of definitions in \cref{def:semiring} is not preserved.

  \begin{description}
    \RItem{def:semiring/euclidean_domain} The base building block for the examples will be the ring \( (\Z, +, \cdot) \) of integers\Tinyref{def:integers}, which itself is an Euclidean domain (see \cref{def:integers}).

    Another example of Euclidean domains are the polynomial rings over a field (see \cref{thm:polynomials_over_field_are_euclidean_domain}).

    \RItem{def:semiring/dioid} By removing additive inverses from the integers, we obtain the dioid \( (\BB{N}, +, \cdot) \) of natural numbers\Tinyref{def:natural_numbers}.

    Take only the commutative monoid \( (\BB{N}, +) \) of natural numbers\Tinyref{def:natural_numbers} with addition. The endomorphism semiring
    \begin{equation*}
      \End(\BB{N})
    \end{equation*}
    is a noncommutative dioid.

    Tropical semirings\Tinyref{def:tropical_semiring} are another example noncommutative dioids.

    \RItem{def:semiring} Simple examples of semirings (but not rings) without unity are proper semiring ideals. For example, the ideal \( 2\BB{N} \) of positive even numbers is a non-unital semiring.

    Another example can be given by taking a subsemiring but not a unital subsemiring of the endomorphism dioid \( \End(\BB{N}, \oplus) \), for example the functions
    \begin{align*}
      &f_n: \BB{N} \to \BB{N} \\
      &f_n(x) \coloneqq x + n,
    \end{align*}
    where \( n > 0 \). They are closed under composition and thus form a semiring themselves, but they do not contain the identity function so the semiring is not unital.

    \RItem{def:semiring/unital_ring} The endomorphism rings \( \End(G) \) for any abelian group \( G \) are unital but non-commutative rings. This includes the matrix space \( R^{n \times n} \) (see \cref{thm:finite_dimensional_operators_are_isomorphic_to_matrices}).

    \RItem{def:semiring/ring} Consider the Banach space \( C_0(\Co) \) of complex functions vanishing at infinity\Tinyref{def:function_spaces/c0}. If we take addition to be pointwise addition and multiplication to be composition, then \( C_0(\Co) \) becomes a non-commutative ring with no multiplicative identity because \( C_0(\Co) \) does not contain the identity function.

    \RItem{def:semiring/commutative_ring} For an example of a commutative ring without unit, consider again the Banach space \( C_0(\Co) \), however define multiplication as pointwise function multiplication rather than by composition. The constant function \( f(x) = 1 \) does not vanish at infinity, hence \( (C_0(\Co), +, \cdot) \) is a commutative but not unital ring.

    \RItem{def:semiring/commutative_unital_ring} An example of a nontrivial commutative unital ring that has zero divisors is the matrix algebra \( \Z^{n \times n} \) over the integers. It is a ring under addition and matrix multiplication. We have
    \begin{equation*}
      \begin{pmatrix}
        1 & 0 \\
        1 & 0
      \end{pmatrix}
      \begin{pmatrix}
        0 & 0 \\
        0 & 1
      \end{pmatrix}
      =
      \begin{pmatrix}
        0 & 0 \\
        0 & 0
      \end{pmatrix},
    \end{equation*}
    thus there are zero divisors in \( \Z^{n \times n} \).

    \RItem{def:semiring/integral_domain}\cite[388]{Knapp2016BAlg} The integral domain \( \Z[\sqrt{-5}] \) is not a unique factorization domain because
    \begin{equation*}
      6 = (1 + \sqrt{-5}) (1 - \sqrt{-5}) = 2 \cdot 3.
    \end{equation*}

    Note that \( \Z[\sqrt{-5}] \) is an integral domain by \cref{thm:polynomials_over_integral_domain_are_integral_domain}.

    \RItem{def:semiring/unique_factorization_domain}\cite{ProofWiki:polynomials_in_integers_is_not_principal_ideal_domain} The unique factorization domain \( \Z[X] \) is not a principal ideal domain.

    Note that \( \Z[X] \) is a unique factorization domain by \cref{thm:polynomials_over_integral_domain_are_integral_domain}.

    Consider the ideal \( I \) of polynomials with an even constant term.

    Assume\LEM that \( I \) is generated by the polynomial \( p(X) \in \Z[X] \). Since \( 2 \in I \), then \( p(X) \) divides \( 2 \) so \( p(X) \in \{ -2, -1, 1, 2 \} \), that is \( p(X) \) is a unit of \( \Z[X] \). But then \( I = \Gen{p(X)} = \Z[X] \), which contradicts the definition of \( I \).

    The obtained contradiction proves that \( \Z[X] \) is not a principal ideal domain.

    \RItem{def:semiring/principal_ideal_domain} Principal ideal domains are not Euclidean domains in general. Such domains are discussed in \cite{Anderson1986}.

    \RItem{def:semiring/division_ring} The localization\Tinyref{def:ring_localization} of a noncommutative ring over itself, if it exists, forms a division ring.

    \RItem{def:semiring/field} The canonical examples of fields include the rational numbers\Tinyref{def:rational_numbers} \( \Q \), the real numbers\Tinyref{def:real_numbers} \( \R \) and the complex numbers\Tinyref{def:complex_numbers} \( \Co \).

    More generally, any nontrivial commutative unital can be embedded in a field by \cref{def:ring_localization}.
  \end{description}
\end{example}

\begin{proposition}\label{thm:semiring_properties}
  Any semiring \( R \) has the following basic properties:
  \begin{thmenum}
    \DItem{thm:semiring_properties/zero_is_absorbing} Multiplication by \( 0 \) is absorbing\Tinyref{def:algebraic_theory/absorbing_element}, that is, \( x0 = 0x = 0 \) for any \( x \in R \).
    \DItem{thm:semiring_properties/identities_are_equal_iff_trivial_ring} In a unital ring\Tinyref{def:semiring/unital_ring}, the additive and multiplicative identities are equal if and only if the ring is trivial.
    \DItem{thm:semiring_properties/cancellable_iff_not_zero_divisor} An element \( x \in R \) of a commutative ring is a zero divisor if and only if it is cancellable (with respect to multiplication).
  \end{thmenum}
\end{proposition}
\begin{proof}\mbox{}
  \begin{itemize}
    \RItem{thm:semiring_properties/zero_is_absorbing} Follows from \cref{def:left_module_properties/ring_zero_is_absorbing} and \cref{def:left_module_properties/module_zero_is_absorbing}.
    \RItem{thm:semiring_properties/identities_are_equal_iff_trivial_ring}\mbox{}
    \begin{description}
      \Implies Let \( 0 = 1 \) in a unital ring \( R \). Let \( r \in R \). Then, by \cref{thm:semiring_properties/zero_is_absorbing},
      \begin{equation*}
        r = 1r = 0r = 0.
      \end{equation*}

      Thus \( r = 0 \). Since \( r \) was arbitrary, we conclude that \( R = \{ 0 \} \) is the trivial ring.

      \ImpliedBy The trivial ring only has one element, hence \( 0 = 1 \).
    \end{description}

    \RItem{thm:semiring_properties/cancellable_iff_not_zero_divisor}\mbox{}
    \begin{description}
      \Implies Suppose that \( x \in R \) is not cancellable. Then there exist \( y \neq z \) for which \( xy = xz \). We have \( y - z \neq 0 \) and
      \begin{equation*}
        x(y - z) = xy - xz = 0.
      \end{equation*}

      Thus \( x \) is a zero divisor.

      \ImpliedBy If \( x \) is a zero divisor, fix \( y \in R \) such that \( xy = 0 \). For any \( z \in R \) we have
      \begin{equation*}
        xy = 0 = x(yz)
      \end{equation*}
      but \( y \neq yz \) in general.

      Thus \( x \) is not cancellable.
    \end{description}
  \end{itemize}
\end{proof}

\begin{definition}\label{def:semiring_kernel}
  Let \( X \) be an arbitrary set and let \( R \) be a semiring\Tinyref{def:semiring}.

  The \Def{kernel} \( \ker(f) \) of a function \( f: X \to R \) is the preimage\Tinyref{def:function_preimage} \( f^{-1}(0_R) \). Any member \( x \in \ker f \) of the kernel is called a \Def{root} or \Def{zero} of \( f \).
\end{definition}

\begin{definition}\label{def:quotient_semiring}
  Let \( R \) be a ring and \( I \) be an ideal of \( M \). Define the \Def{quotient ring} to be the quotient module\Tinyref{def:quotient_left_module} when considering \( R \) as a module over itself.
\end{definition}

\begin{theorem}\label{thm:homomorphism_theorem_for_left_modules}
  Let \( \varphi: R \to T \) be a homomorphism of rings. We have the isomorphism
  \begin{equation*}
    R / \ker \varphi \cong \Img \varphi.
  \end{equation*}
\end{theorem}
\begin{proof}
  Special case of \cref{thm:homomorphism_theorem_for_left_modules}.
\end{proof}

\begin{proposition}\label{thm:ring_homomorphism_simpler_conditions}
  A function \( f: R \to S \) between the rings \( R \) and \( S \) is a homomorphism in the sense of \cref{def:first_order_homomorphism} if and only if for any \( x, y \in R \) it satisfies
  \begin{equation}\label{thm:ring_homomorphism_simpler_conditions/condition}
    \begin{dcases}
      f(x + y) &= f(x) + f(y), \\
      f(xy) &= f(x) f(y), \\
      f(1_R) &= 1_S.
    \end{dcases}
  \end{equation}

  Note that the last condition is only for unital rings.

  In other words, if a function satisfies \cref{thm:ring_homomorphism_simpler_conditions/condition}, the following are automatically satisfied:
  \begin{itemize}
    \item \( f(0_R) = 0_S \)
    \item for all \( x \in R \), we have \( f(-x) = -f(x) \)
    \item for all units \( x \in R \), we have \( f(x^{-1}) = f(x)^{-1} \)
  \end{itemize}
\end{proposition}
\begin{proof}
  Since \( (R, +) \) and \( (S, +) \) are groups, the first two equalities from \cref{thm:group_homomorphism_single_condition}.

  The proof of \( f(x^{-1}) = f(x)^{-1} \) is analogous to \cref{thm:group_homomorphism_single_condition}.
\end{proof}

\begin{definition}\label{def:ring_of_integers_modulo}
  The integers\Tinyref{def:integers} \( \Z \) form a ring under addition and multiplication. Fix a positive integer \( n > 1 \). We extend the group \( \Z_n \) of integers modulo \( n \)\Tinyref{def:group_of_integers_modulo} with the operation
  \begin{equation*}
    x \odot y \coloneqq \Rem(xy, n).
  \end{equation*}

  The ring \( \Z_n \) is called the \Def{ring of integers modulo} \( n \).
\end{definition}
\begin{proof}
  Note that
  \begin{align*}
    \Rem(x, n) \Rem(y, n)
    \equiv\; &
    (x - n \Floor(x, n)) (y - n \Floor(y, n))
    &\pmod n \equiv \\&
    xy - n \Floor(x, n) - n \Floor(y, n) + n^2 \Floor(x, n) \Floor(y, n)
    &\pmod n \equiv \\&
    xy
    &\pmod n. \phantom{\equiv}
  \end{align*}

  The proof that multiplication in \( \Z_n \) is associative, unital and commutative is becomes trivial.

  We will prove that multiplication distributes over addition. Fix \( x, y, z \in \Z_n \). We have
  \begin{align*}
    (x \oplus y) \odot z
    &=
    \Rem((x \oplus y) z, n)
    = \\ &=
    \Rem(\Rem(x + y, n) z, n)
    = \\ &=
    \Rem((x + y - n \Floor(x + y, n)) z, n)
    = \\ &=
    \Rem((x + y)z, n).
  \end{align*}
  and
  \begin{align*}
    (x \odot z) \oplus (y \odot z)
    &=
    \Rem([(x \odot z) + (y \odot z)], n)
    = \\ &=
    \Rem([xz - n \Floor(xz, n) + yz - n \Floor(yz, n)], n)
    = \\ &=
    \Rem(xz + yz, n)
    = \\ &=
    \Rem((x + y)z, n).
  \end{align*}

  Hence
  \begin{equation*}
    (x \oplus y) \odot z = (x \odot z) \oplus (y \odot z).
  \end{equation*}
\end{proof}

\begin{definition}\label{def:tropical_semiring}\cite{nLab:tropical_semiring}
  Fix a partially ordered\Tinyref{def:order/partial} abelian group\Tinyref{def:magma/abelian_group} \( (M, +, \leq) \). Let \( \infty \) be a sentinel symbol not in \( M \). Define
  \begin{equation*}
    T \coloneqq M \cup \{ \infty \}
  \end{equation*}
  with operations
  \begin{align*}
    &\oplus: T \times T \to T \\
    &x \oplus y \coloneqq \begin{cases}
      \min \{ x, y \}, &x \neq \infty \text{ and } y \neq \infty \text{ and they are comparable}, \\
      \infty,     &x = \infty \text{ or } y = \infty
    \end{cases} \\
    \\
    &\odot: T \times T \to T \\
    &x \odot y \begin{cases}
      x + y,  &x \neq \infty \text{ and } y \neq \infty, \\
      \infty, &x = \infty \text{ or } y = \infty
    \end{cases}
  \end{align*}

  This makes \( (T, \oplus, \odot) \) into a dioid\Tinyref{def:semiring/dioid} with additive identity \( \infty \) and multiplicative identity \( 0 \). We call \( (T, \oplus, \odot) \) the \( \min \)-\Def{tropical semiring} or simply the \Def{tropical semiring} over \( M \). We define the \( \max \)-\Def{tropical semiring} analogously by simply replacing \( \min \) with \( \max \).
\end{definition}

\begin{definition}\label{def:semiring_direct_product}
  Let \( \{ X_i \}_{i \in I} \) be a nonempty family of rings.

  Analogously to \cref{def:group_direct_product}, we define their \Def{direct product} as the ring \( \prod_{i \in I} X_i \), the operations defined componentwise as
  \begin{align*}
    &\{ x_i \}_{i \in I} + \{ y_i \}_{i \in I}
    \coloneqq
    \{ x_i + y_i \}_{i \in I}, \\
    &\{ x_i \}_{i \in I} \cdot \{ y_i \}_{i \in I}
    \coloneqq
    \{ x_i \cdot y_i \}_{i \in I}.
  \end{align*}

  We define their \Def{direct sum} as the subring of \( \prod_{i \in I} X_i \)\Tinyref{def:semiring_direct_product} where only finitely many components of any ring element are different from zero.
\end{definition}

\begin{proposition}\label{thm:ring_categorical_limits}
  We are interested in categorical limits\Tinyref{def:categorical_limit} and colimits\Tinyref{def:categorical_colimit} in \( \Cat{Ring} \). If \( \{ X_i \}_{i \in I} \) is an indexed family of rings, then
  \begin{defenum}
    \DItem{thm:ring_categorical_limits/product} their categorical product\Tinyref{def:categorical_product} is their direct product\Tinyref{def:semiring_direct_product} \( \prod_{i \in I} X_i \), the projection morphisms being inherited from \cref{thm:set_categorical_limits/product}.
  \end{defenum}
\end{proposition}

\begin{definition}\label{def:opposite_ring}\cite[555]{Knapp2016BAlg}
  The opposite ring \( R^{-1} \) of \( R \) is defined as the same abelian group with the order of multiplication reversed. They are obviously isomorphic for commutative rings.
\end{definition}

\begin{definition}\label{def:ring_commutator}
  Let \( R \) be a ring. The commutator of \( x, y \in R \) is defined as
  \begin{equation*}
    [x, y] \coloneqq xy - yx.
  \end{equation*}

  The commutator ideal of \( R \) is the ideal generated\Tinyref{def:generated_ring_ideal} by all the commutators in \( G \).
\end{definition}

\begin{proposition}\label{thm:quotient_by_commutator_ideal}
  The quotient \( R / I \) of any unital ring\Tinyref{def:semiring/unital_ring} \( R \) by its commutator ideal \( I \) is commutative\Tinyref{def:semiring/commutative_ring}.
\end{proposition}

\begin{definition}\label{def:endomorphism_semiring}
  Let \( X \) be an commutative monoid and let \( \End(X) \) be set of endomorphism over \( X \). We define two operations:
  \begin{itemize}
    \item Pointwise addition \( [f + g](x) \coloneqq f(x) + g(x) \).
    \item Multiplication by composition \( [fg](x) \coloneqq f(g(x)) \).
  \end{itemize}

  These operations make \( \End(X) \) into a dioid. If \( X \) is an abelian group, then \( \End(X) \) is a ring.
\end{definition}

\begin{definition}\label{def:functions_vanish_nowhere}
  Let \( \Cal{F} \) be a family of functions (not necessarily homomorphisms) between the rings \( R \) and \( S \). We say that \( \Cal{F} \) \Def{vanishes nowhere} if for every \( x \in R \) there exists a function \( f \in \Cal{F} \) such that \( f(x) \neq 0_S \).
\end{definition}

\begin{proposition}\label{def:ring_localization}\cite[428]{Knapp2016BAlg}
  Let \( R \) be a commutative unital ring and \( S \subseteq R \) be a subset that is closed under multiplication. Then \( R \) can be embedded into a ring \( S^{-1} R \) called the \Def{localization} of \( R \) with respect to \( S \) where every element of \( S \) is invertible.
\end{proposition}
