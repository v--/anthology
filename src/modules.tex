\subsection{Modules}\label{subsec:modules}

\begin{note}\label{note:module_over_commutative_ring}
  We will restrict our interest to modules over commutative rings and avoid right modules and bimodules.
\end{note}

\begin{definition}\label{def:module}\cite{Knapp2016BAlg}[374]
  Let \( R \) be a commutative ring. A \textbf{(left) \( R \)-module} \( M \) is an (additive) abelian group \( (M, +) \) along with an operation \( \circ: R \times M \to M \), called \textbf{scalar multiplication} and denoted by juxtaposition, such that for all \( u, v \in M \) and all \( a, b \in R \),
  \begin{description}
    \DItem{def:module/associativity}[associativity] \( a (b u) = (a b) u \).
    \DItem{def:module/scalar_distributivity}[scalar distributivity] \( (a + b) u = a u + b u \).
    \DItem{def:module/vector_distributivity}[vector distributivity] \( a (u + v) = a u + a v \).
    \DItem{def:module/identity}[identity] If the ring \( R \) has an identity, then we require the additional axiom \( 1_R u = u \).
  \end{description}

  In analogy with linear algebra, we call elements of \( R \) scalars and elements of \( M \) vectors.

  We say that
  \begin{itemize}
    \item the subset \( N \subseteq M \) is an \textbf{\( R \)-submodule of \( M \)} if \( N \) is closed under the module operations.
    \item the module \( \{ 0_R \} \) is the \textbf{zero \( R \)-module} or \textbf{trivial \( R \)-module} or the \textbf{trivial submodule} since it is a submodule of every \( R \)-module.
    \item all submodules except for \( M \) itself are \textbf{proper submodules}.
  \end{itemize}
\end{definition}

\begin{proposition}\label{def:module_properties}
  Any \( R \)-module \( M \) has the following basic properties:
  \begin{defenum}
    \DItem{def:module_properties/zero_absorbing} Multiplication by \( 0_R \) is \textbf{absorbing}\Tinyref{def:group/absorbing_element}, that is, \( 0_R \cdot u = 0_M \) for any \( u \in M \).
  \end{defenum}
\end{proposition}
\begin{proof}\mbox{}
  \begin{itemize}
    \RItem{def:module_properties/zero_absorbing} We have that \( 0_R u = (0_R + 0_R)u = 0_R u + 0_R u \), thus \( 0_R u \) is the additive identity \( 0_M \).
  \end{itemize}
\end{proof}

\begin{example}\label{ex:module/ideal}
  Every commutative ring \( R \) is a module over itself. Every ideal \( I \unlhd R \) is an \( R \)-module since it is closed under multiplication with \enquote{scalars} from \( R \).
\end{example}

\begin{definition}\label{def:module_homomorphism}\cite{Knapp2016BAlg}[375]
  Let \( M \) and \( N \) be two \( R \)-modules. We say that the function \( f: M \to N \) is a \textbf{module homomorphism} or a \textbf{a linear function} if
  \begin{description}
    \DItem{def:module_homomorphism/homogeneity}[homogeneity] \( a f(u) = f(a u) \) for any \( a \in R \) and \( u \in M \).
    \DItem{def:module_homomorphism/additivity}[additivity] \( f(u + v) = f(v) + f(v) \) for any \( u, v \in M \) (that is, \( f \) is a group homomorphism between \( (M, +) \) and \( (N, +) \)).
  \end{description}

  The \textbf{kernel} of \( f \) is defined as the preimage\Tinyref{def:function_preimage} \( f^{-1}(0_N) \).

  The terminology from~\cref{def:morphism_invertibility} applies to module homomorphisms because of the category \( \Bold{Mod}_R \) of \( R \)-modules\Tinyref{def:category_of_modules}.
\end{definition}

\begin{definition}\label{def:multilinear_function}
  Generalizing \cref{def:module_homomorphism}, if \( M_1, \ldots, M_k \) and \( N \) are \( R \)-modules, we say that the function
  \begin{equation*}
    f: M_1 \times \ldots \times M_k \to N
  \end{equation*}
  is \textbf{multilinear} or \textbf{\( k \)-linear} (\textbf{bilinear} for \( k = 2 \), \textbf{trilinear} for \( k = 3 \)) if it is linear in each component, that is, for each component \( i = 1, \ldots, k \), and for each tuple not containing elements from \( M_i \),
  \begin{equation*}
    (u_1, \ldots, u_{i-1}, u_{i+1}, \ldots, u_k) \in M_1 \times \ldots \times M_{i-1} \times M_{i+1} \times \ldots \times M_k \to N
  \end{equation*}
  the following function is linear:
  \begin{align*}
    &f_i: M_i \to N \\
    &f_i(u_i) \coloneqq f(u_1, \ldots, u_{i-1}, u_i, u_{i+1}, \ldots, u_k).
  \end{align*}
\end{definition}

\begin{definition}\label{def:abelian_group_z_module}\cite{Knapp2016BAlg}[375]
  Let \( G \) be an abelian group. Define the \textbf{\( \BB{Z} \)-module \( M \), associated with \( G \)}, with scalar multiplication
  \begin{align*}
    nu \coloneqq \begin{cases}
      0, &n = 0 \\
      u + \ldots + u, &n > 0 \\
      -((-n)u), &n < 0.
    \end{cases}
  \end{align*}

  Thus, abelian groups can be regarded as modules.
\end{definition}

\begin{proposition}\label{thm:abelian_group_iff_z_module}\cite{Knapp2016BAlg}[375]
  Every abelian group is isomorphic to exactly one \( \BB{Z} \)-module.
\end{proposition}
\begin{proof}
  We already saw in~\cref{def:abelian_group_z_module} how every abelian group can be regarded as a \( \BB{Z} \)-module. Every \( \BB{Z} \)-module can then be identified with its additive group.

  Scalar multiplication ensures that there is exactly one way to define a \( \BB{Z} \)-module structure on an abelian group since \( na = (n-1)a + a \) and \( 0a = 0 \).
\end{proof}

\begin{definition}\label{def:module_direct_product}
  Let \( \{ X_i \}_{i \in I} \) be a nonempty family of \( R \)-modules.

  Analogously to \cref{def:group_direct_product}, we define their \textbf{direct product} as the module \( \prod_{i \in I} X_i \), the operations defined componentwise as
  \begin{align*}
    &\{ x_i \}_{i \in I} + \{ y_i \}_{i \in I}
    \coloneqq
    \{ x_i + y_i \}_{i \in I}, \\
    &\alpha \{ x_i \}_{i \in I}
    \coloneqq
    \alpha \{ \alpha x_i \}_{i \in I}.
  \end{align*}

  We define their \textbf{direct sum} as the submodule of \( \prod_{i \in I} X_i \)\Tinyref{def:module_direct_product} where only finitely many components of any module element are different from zero.
\end{definition}

\begin{definition}\label{def:category_of_modules}
  Fix a ring \( R \). The class\Tinyref{def:set_zfc} of all \( R \)-module forms the category\Tinyref{def:category} \( \Bold{Mod}_R \), where for every two modules \( X, Y \in \Bold{Mod}_R \), the morphisms \( \Bold{Mod}_R(X, Y) \) are the homomorphisms\Tinyref{def:module_homomorphism} from \( X \) to \( Y \) and composition is the usual function composition\Tinyref{def:function_composition}.

  Furthermore, \( \Bold{Mod}_R \) is concrete\Tinyref{def:concrete_category} and abelian\Tinyref{def:abelian_category}.
\end{definition}

\begin{proposition}\label{thm:module_categorical_limits}
  We are interested in categorical limits\Tinyref{def:categorical_limit} and colimits\Tinyref{def:categorical_colimit} in \( \Bold{Mod}_R \). If \( \{ X_i \}_{i \in I} \) is an indexed family of \( R \)-modules, then
  \begin{defenum}
    \DItem{thm:module_categorical_limits/product} their categorical product\Tinyref{def:categorical_product} is their direct product\Tinyref{def:module_direct_product} \( \prod_{i \in I} X_i \), the projection morphisms being inherited from \cref{thm:set_categorical_limits/product}.

    \DItem{thm:module_categorical_limits/coproduct} their categorical coproduct\Tinyref{def:categorical_coproduct} is the direct sum\Tinyref{def:group_direct_product} \( \oplus_{i \in I} X_i \), the injection morphisms being inherited from \cref{thm:abelian_group_categorical_limits/coproduct}.
  \end{defenum}
\end{proposition}

\begin{definition}\label{def:linear_combination}
  Let \( M \) be an \( R \)-module and let \( \alpha_1, \ldots, \alpha_n \in R \) and \( x_1, \ldots, x_n \in M \). We call
  \begin{equation*}
    x \coloneqq \sum_{k=1}^n \alpha_k x_k
  \end{equation*}
  their \textbf{linear combination} with \textbf{coefficients} or \textbf{scalars} \( \alpha_1, \ldots, \alpha_n \) and \textbf{vectors} \( x_1, \ldots, x_n \).

  For a subset \( A \subseteq M \), the set of all linear combinations of finite subsets of \( A \) is called its span and denoted by \( \Span{A} \).
\end{definition}

\begin{definition}\label{def:linear_dependence}
  Let \( M \) be an \( R \)-module and let \( A \subseteq M \). We say that the set \( A \) is \textbf{linearly dependent} if there exists \( x \in A \) such that
  \begin{equation*}
    x \in \Span{A} \setminus \{ x \}.
  \end{equation*}

  If \( A \) is not linearly dependent, we say that it is \textbf{linearly independent}.
\end{definition}

\begin{definition}\label{def:module_basis}
  The subset \( B \) of the \( R \)-module \( M \) is called a \textbf{basis of \( M \)} if \( B \) is linearly independent and
  \begin{equation*}
    M = \Span{B}.
  \end{equation*}
\end{definition}

\begin{definition}\label{def:free_module}[32]\cite{Kocev2016}
  Let \( R \) be a commutative unital ring. We say that the \( R \)-module \( M \) is a \textbf{free module} if it has a basis\Tinyref{def:module_basis}.

  If \( S \) is any set, then the direct sum\Tinyref{thm:module_categorical_limits/coproduct}
  \begin{equation*}
    M \coloneqq \oplus_{s \in S} R
  \end{equation*}
  with injections \( \{ \iota_s \}_{s \in S} \) is called the \textbf{free module generated by \( S \)}. Define the function
  \begin{align*}
    &\varphi: S \to M \\
    &\varphi(s) \coloneqq \iota_s(1_R).
  \end{align*}

  The image \( \varphi(S) \) is then a basis of \( M \).

  If the free module \( M \) has a finite basis, we say that it is \textbf{finitely generated}.
\end{definition}

\begin{proposition}\label{def:module_basis_decomposition}
  Let \( B \) be a basis of the free \( R \)-module \( M \). Then each element \( u \) of \( M \) can be uniquely (up to a rearrangement) represented as a linear combination\Tinyref{def:linear_combination} of elements of \( B \).
\end{proposition}
\begin{proof}
  Assume\LEM that
  \begin{equation*}
    u = \alpha_1 a_1 + \ldots + \alpha_n a_n = \beta_1 b_1 + \ldots + \beta_n b_m,
  \end{equation*}
  where \( \alpha_1, \ldots, \alpha_n, \beta_1, \ldots, \beta_n \in R \) and \( a_1, \ldots, a_n, b_1, \ldots, b_m \in B \). With no loss of generality, assume that all scalars \( \alpha_1, \ldots, \alpha_n, \beta_1, \ldots, \beta_n \) are nonzero.

  Thus
  \begin{equation*}
    0 = u - u = (\alpha_1 - 0) a_1 + \ldots + (\alpha_n - 0) a_n + (0 - \beta_1) b_1 + \ldots + (0 - \beta_m) b_m
  \end{equation*}

  For every \( i = 1, \ldots, n \) we have two possibilities:
  \begin{itemize}
    \item If \( a_i \not\in \{ b_1, \ldots, b_n \} \), we necessarily have \( \alpha_i = 0 \), which contradicts our assumption.
    \item If \( a_i = b_j \) for some \( j = 1, \ldots, m \), it follows that \( \alpha_i = \beta_j \).
  \end{itemize}

  Analogously, for \( j = 1, \ldots, m \), \( \beta_j \) equals \( \alpha_i \) for some \( i = 1, \ldots, n \). Hence \( n = m \) and \( b_1, \ldots, b_m \) is simply a permutation\Tinyref{def:symmetric_group} of \( a_1, \ldots, a_n \).
\end{proof}

\begin{proposition}\label{thm:free_module_basis_cardinality}\cite{ProofWiki:bases_of_free_module_have_same_cardinality}
  All bases in a free module over a unital ring have the same cardinality.
\end{proposition}

\begin{example}\label{ex:free_module_with_non_equinumerous_bases}
  If \( M \) is a an \( R \)-module, it may have bases of different cardinality.
\end{example}

\begin{definition}\label{def:module_tensor_product}\cite[574]{Knapp2016BAlg}
  Let \( M \) and \( N \) be two modules over the unital ring \( R \). Define the free abelian group\Tinyref{def:free_abelian_group} \( G \) generated by the basis \( M \times N \), that is,
  \begin{equation*}
    G \coloneqq \oplus_{(m,n) \in M \times N} \BB{Z}.
  \end{equation*}

  Denote by \( e_{m,n} \) the \( (m,n) \)-th basis vector and by \( \alpha_{m,n} \) the \( (m,n) \)-th coordinate of \( \alpha \in G \) (we can have only a finite amount of nonzero coordinates since \( G \) is a direct sum).

  We can regard \( G \) as an \( R \)-module with scalar multiplication given by
  \begin{equation*}
    (r \alpha)_{(m,n)} \coloneqq \alpha_{(rm,n)}.
  \end{equation*}

  Let \( H \) be the submodule of \( G \) generated by
  \begin{itemize}
    \item \( e_{(m_1 - m_2, n)} - e_{(m_1,n)} - e_{(m_2,n)} \), \( m_1, m_2, n \in G \)
    \item \( e_{(m, n_1 - n_2)} - e_{(m,n_1)} - e_{(m,n_2)} \), \( m, n_1, n_2 \in G \)
    \item \( e_{(rm,n)} - e_{(m,rn)} \), \( m, n \in G \) and \( r \in R \)
  \end{itemize}

  Define the \textbf{tensor product of \( M \) and \( N \)} as the \( R \)-module \( G / H \).
\end{definition}

\begin{theorem}\label{thm:tensor_product_universal_property}\cite[theorem 10.18]{Knapp2016BAlg}
  Let \( M \) and \( N \) be modules over the unital ring \( R \), let \( M \otimes N \) be their tensor product\Tinyref{def:module_tensor_product} and let \( q: M \times N \to M \otimes N \) be the corresponding quotient map.

  The tensor product \( M \otimes N \) satisfies the following universal property: for every \( R \)-module \( K \) and any bilinear map\Tinyref{def:multilinear_function} \( f: M \times N \to K \) there exists a unique map \( \hat f: M \otimes N \to K \) such that
  \begin{equation*}
    f = \hat f \circ q,
  \end{equation*}
  that is, the following diagram commutes:

  \begin{AlignedEquation}\label{thm:tensor_product_universal_property/diagram}
    \begin{mplibcode}
      beginfig(1);
        input metapost/diagrams;

        n1 := thelabel("$M \times N$", origin);
        n2 := thelabel("$M \otimes N$", (2, 0) * u);
        n3 := thelabel("$K$", (1, -1) * u);

        a1 := straight_arrow(n1, n2);
        a2 := straight_arrow(n2, n3);
        a3 := straight_arrow(n1, n3);

        draw_nodes(n);
        draw_arrows(a);

        label.top("$q$", midpoint of a1);
        label.lrt("$\hat f$", midpoint of a2);
        label.llft("$f$", midpoint of a3);
      endfig;
    \end{mplibcode}
  \end{AlignedEquation}
\end{theorem}
