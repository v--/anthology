\usepackage{xargs} % newcommandx
\usepackage{xspace} % xspace
\usepackage{crossreftools} % \crtcrossreflabel

% Shorthands
\newcommand           \Cal          [1] {\symcal #1}
\newcommand           \BB           [1] {\symbb #1}
\newcommand           \Bold         [1] {\operatorname{\symbf{#1}}}
\newcommand           \Cat          [1] {\Bold{#1}}
\newcommand           \Ol           [1] {\overline{#1}}
\newcommand           \MultTo           {\rightrightarrows}
\newcommand           \Derives          {\overset * \implies}

% Number sets
\newcommand           \Z                {\BB Z}
\newcommand           \Q                {\BB Q}
\newcommand           \R                {\BB R}

% Operations
\newcommand           \Abs          [1] {\left\vert #1 \right\vert}
\newcommand           \Norm         [1] {\left\Vert #1 \right\Vert}
\newcommand           \Gen          [1] {\left\langle #1 \right\rangle}
\newcommand           \Prod         [2] {\left\langle #1, #2 \right\rangle}

% Operators
\DeclareMathOperator  \Aut              {aut}
\DeclareMathOperator  \Card             {card}
\DeclareMathOperator  \Cl               {cl}
\DeclareMathOperator  \Coimg            {coim}
\DeclareMathOperator  \Coker            {coker}
\DeclareMathOperator  \Conv             {conv}
\DeclareMathOperator  \Diam             {diam}
\DeclareMathOperator  \Dist             {dist}
\DeclareMathOperator  \Dom              {dom}
\DeclareMathOperator  \Epi              {epi}
\DeclareMathOperator  \End              {end}
\DeclareMathOperator  \FI               {FI}
\DeclareMathOperator  \Gal              {gal}
\DeclareMathOperator  \Gph              {gph}
\DeclareMathOperator  \Hom              {hom}
\DeclareMathOperator  \Hypo             {hypo}
\DeclareMathOperator  \Id               {id}
\DeclareMathOperator  \Img              {im}
\DeclareMathOperator  \Ind              {I}
\DeclareMathOperator  \Int              {int}
\DeclareMathOperator  \Len              {len}
\DeclareMathOperator  \Mod              {mod}
\DeclareMathOperator  \Ord              {ord}
\DeclareMathOperator  \Power            {\Cal P}
\DeclareMathOperator  \Range            {range}
\DeclareMathOperator  \Rank             {rank}
\DeclareMathOperator  \Span             {span}
\DeclareMathOperator  \GL               {GL}
\DeclareMathOperator  \SL               {SL}

% Index
\newcommand \IndexEntry [2] {\index{#2}\textsuperscript{\hyperref[sec:index]{#1}}\xspace}
\newcommand \AOC {\IndexEntry{AOC}{Axiom of choice}}
\newcommand \LEM {\IndexEntry{LEM}{Law of the excluded middle}}
\newcommand \USC {\IndexEntry{USC}{Compactness of the unit sphere}}

% Items
\newcommand           \RItem        [1] {\item[{\ref{#1}}]}
\newcommandx          \DItem        [2][2=] {%
  \ifthenelse{\equal{#2}{}}%
    {\item\label{#1}}%
    {\item[{\crtcrossreflabel{#2}[#1]}]}%
}

\newcommand           \ImpItem      [3] {\item[(%
  \ifthenelse{\equal{#1}{}}%
    {}%
    {\ref{#1}}%
  #3%
  \ifthenelse{\equal{#2}{}}
    {}%
    {\ref{#2}}%
)]}%

\newcommandx          \Implies      [2][1=,2=] {\ImpItem{#1}{#2}{\( \symbf\implies \)}}
\newcommandx          \ImpliedBy    [2][1=,2=] {\ImpItem{#1}{#2}{\( \symbf\impliedby \)}}
\newcommandx          \Iff          [2][1=,2=] {\ImpItem{#1}{#2}{\( \symbf\iff \)}}

% Misc
\newcommand           \Email        [1] {\href{mailto:#1}{#1}}
\newcommand           \URL          [1] {\href{#1}{#1}}
\newcommand           \Tinyref      [1] {\textsuperscript{\ref{#1}}}
\newcommand           \Def          [1] {\textbf{#1}}
